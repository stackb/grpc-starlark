[![CI](https://github.com/stackb/grpc-starlark/actions/workflows/ci.yaml/badge.svg)](https://github.com/stackb/grpc-starlark/actions/workflows/ci.yaml)

# grpc-starlark

`grpc-starlark` is a gRPC server that uses the starlark language to provide
handler method implementations.

## Installation

Download a binary from the releases page, or install from source:

```sh
go install github.com/stackb/grpc-starlark/cmd/grpc-starlark@latest
```

## Usage

Example:

```sh
$ grpc-starlark \
    -protoset ./path/to/routeguide/routeguide_proto-descriptor-set.proto.bin \
    -load ./example/routeguide/routeguide.grpc.star
```

### Proto Descriptor Set

The server binary requires a precompiled proto descriptor set containing the
messages and services to be used.  The path to this file should be provided as
the value of the `--protoset` flag.

This file can be generated by the protoc `--descriptor_set_out` flag and is used
by other tools in the protobuf/gRPC ecosystem (see
[grpcurl](https://github.com/fullstorydev/grpcurl#protoset-files)).

For bazel users, the
[proto_descriptor_set](https://github.com/bazelbuild/rules_proto/blob/master/proto/private/rules/proto_descriptor_set.bzl)
can be used to generate this file.

### Handler Implementations

Pass the name of your starlark handler implementation file to the `--load` flag.
